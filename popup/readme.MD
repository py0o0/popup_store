# PopupController API

## 1️⃣ 팝업 스토어 등록 (Register Popup Store)

| 항목               | 내용                                                                                          |
|------------------|---------------------------------------------------------------------------------------------|
| **URL**          | `/popup/register`                                                                           |
| **Method**       | `POST`                                                                                      |
| **Request 헤더**   | `Authorization` (String, JWT 토큰)                                                         |
| **Request 바디**   | `PopupDto` (popId, email, image 제외한 모든 필드 포함) <br> `file` (MultipartFile, 팝업 이미지) |
| **Response**     | **성공**: `200 OK`, `"팝업 스토어 등록"` <br> **실패**: `400 Bad Request`, `"유효하지 않은 토큰"` / `"파일 형식이 잘못됨"` |
| **설명**         | 사용자가 새로운 팝업 스토어를 등록합니다. 이미지가 있으면 AWS S3에 업로드하여 URL을 저장합니다.               |

---

## 2️⃣ 팝업 스토어 전체 조회 (Get All Popup Stores)

| 항목               | 내용                                                                                                      |
|------------------|---------------------------------------------------------------------------------------------------------|
| **URL**          | `/popup/all`                                                                                            |
| **Method**       | `GET`                                                                                                   |
| **Request 파라미터** | `category` (String, `전체` or `category`) <br> `page` (int, 페이지 번호) <br> `size` (int, 한 페이지 게시글 수) |
| **Response**     | **성공**: `200 OK`, 팝업 스토어 목록 반환 <br> **실패**: `400 Bad Request`, `"잘못된 요청"`                               |
| **설명**         | 등록된 팝업 스토어 목록을 페이지네이션과 정렬 기준을 적용하여 조회합니다.                                                               |

---

## 3️⃣ 팝업 스토어 수정 (Update Popup Store)

| 항목               | 내용                                                                                          |
|------------------|---------------------------------------------------------------------------------------------|
| **URL**          | `/popup/update`                                                                             |
| **Method**       | `POST`                                                                                      |
| **Request 헤더**   | `Authorization` (String, JWT 토큰)                                                         |
| **Request 바디**   | `PopupDto` (popId, email, image 제외한 모든 필드 포함) <br> `file` (MultipartFile, 변경할 이미지) |
| **Response**     | **성공**: `200 OK`, `"팝업 스토어 수정"` <br> **실패**: `400 Bad Request`, `"유효하지 않은 토큰"` / `"존재하지 않는 팝업 스토어"` / `"등록자만 수정 가능"` |
| **설명**         | 사용자가 본인이 등록한 팝업 스토어 정보를 수정합니다. 이미지 변경 시, 새로운 이미지를 AWS S3에 업로드하여 URL을 갱신합니다. |

---

## 4️⃣ 팝업 스토어 조회 (Get Popup Store by ID)

| 항목               | 내용                                                                                          |
|------------------|---------------------------------------------------------------------------------------------|
| **URL**          | `/popup/{popupId}`                                                                           |
| **Method**       | `GET`                                                                                       |
| **Request 파라미터** | `popupId` (long, 조회할 팝업 스토어의 고유 ID)                                                |
| **Response**     | **성공**: `200 OK`, 팝업 스토어 상세 정보 반환 <br> **실패**: `400 Bad Request`, `"존재하지 않는 팝업 스토어"` |
| **설명**         | 팝업 스토어의 고유 ID를 기준으로 팝업 스토어의 상세 정보를 조회합니다. 해당 요청은 `popId`, `email`, `image`를 제외한 나머지 필드를 반환합니다. |

---

## 5️⃣ 팝업 스토어 검색 (Search Popup Stores)

| 항목               | 내용                                                                                     |
|------------------|----------------------------------------------------------------------------------------|
| **URL**          | `/popup/search`                                                                        |
| **Method**       | `GET`                                                                                  |
| **Request 파라미터** | `keyword` (String, 검색할 키워드) <br> `page` (int, 페이지 번호) <br> `size` (int, 한 페이지 게시글 수) |
| **Response**     | **성공**: `200 OK`, 검색된 팝업 스토어 목록 반환 <br> **실패**: `400 Bad Request`, `"잘못된 요청"`        |
| **설명**         | 검색 키워드를 기준으로 제목에서 해당 단어가 포함된 팝업 스토어를 조회합니다. 페이징을 적용하여 데이터를 반환합니다. |

<br><br>

# PopupDto 명세표

| 필드명    | 타입    | 설명                  | 예시 값                              |
|----------|--------|---------------------|-----------------------------------|
| `popId`  | `long`   | 팝업스토어 고유 ID         | `1`                               |
| `title`  | `String` | 팝업스토어 제목            | `"봄맞이 핸드메이드 마켓"`                  |
| `email`  | `String` | 등록한 사용자 이메일         | `"user@example.com"`              |
| `content` | `String` | 팝업스토어 설명            | `"핸드메이드 제품을 판매하는 팝업스토어"`          |
| `start`  | `String` | 시작 날짜 (yyyy-MM-dd)  | `"2025-03-01"`                    |
| `exp`    | `String` | 종료 날짜 (yyyy-MM-dd)  | `"2025-03-07"`                    |
| `offline` | `String` | 오프라인 여부 (`0` / `1`) | `"1"`                             |
| `address` | `String` | 오프라인 팝업스토어 주소       | `"서울특별시 강남구 테헤란로 123"`            |
| `category` | `String` | 팝업스토어 카테고리          | `"패션 / 액세서리 / 리빙"`                |
| `image`   | `String` | 팝업스토어 썸네일 이미지 URL   | `"https://example.com/image.jpg"` |